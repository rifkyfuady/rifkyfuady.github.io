<!DOCTYPE html>
<html lang="id" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Membuat aplikasi konverter youtube ke Mp3 mutiplatform | Rifky Fuady</title>
<meta name="keywords" content="Flutter, Bahasa Pemrograman">
<meta name="description" content="Sering sekali saya menemukan lagu yang menurut pendapat saya bagus di Youtube, akan tetapi saya hanya ingin mendengarkan lagunya saja tidak dengan videonya.
Alih-alih ingin menghemat kuota internet dirumah (Indihome berkuota &#x1f602;), saya sering melakukan konvert youtube ke mp3 dengan aplikasi web ini Online Video Converter kalo saya sedang memakai komputer&hellip;
Bagaimana kalo di smartphone?
Beberapa kali saya mencoba donwload aplikasi dari Apps Store ada dua jenis aplikasi, yaitu aplikasi gratis tetapi banyak iklan atau yang tidak ada iklan tetapi berbayar, hehe&hellip; &#x1f605;">
<meta name="author" content="Rifky Fuady">
<link rel="canonical" href="https://rifkyfuady.github.io/posts/konverter-youtube-mp3/">
<meta name="google-site-verification" content="A3bnoBvVWUhLgpEuuZPXcNk4ydzULsPXnikJ2IHB1Gk">
<link crossorigin="anonymous" href="/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css" integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF&#43;13Dyqob6ASlTrTye8=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://rifkyfuady.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://rifkyfuady.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://rifkyfuady.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://rifkyfuady.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://rifkyfuady.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="id" href="https://rifkyfuady.github.io/posts/konverter-youtube-mp3/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://rifkyfuady.github.io/posts/konverter-youtube-mp3/">
  <meta property="og:site_name" content="Rifky Fuady">
  <meta property="og:title" content="Membuat aplikasi konverter youtube ke Mp3 mutiplatform">
  <meta property="og:description" content="Sering sekali saya menemukan lagu yang menurut pendapat saya bagus di Youtube, akan tetapi saya hanya ingin mendengarkan lagunya saja tidak dengan videonya.
Alih-alih ingin menghemat kuota internet dirumah (Indihome berkuota üòÇ), saya sering melakukan konvert youtube ke mp3 dengan aplikasi web ini Online Video Converter kalo saya sedang memakai komputer‚Ä¶
Bagaimana kalo di smartphone?
Beberapa kali saya mencoba donwload aplikasi dari Apps Store ada dua jenis aplikasi, yaitu aplikasi gratis tetapi banyak iklan atau yang tidak ada iklan tetapi berbayar, hehe‚Ä¶ üòÖ">
  <meta property="og:locale" content="id">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2019-04-08T20:29:06+07:00">
    <meta property="article:modified_time" content="2019-04-08T20:29:06+07:00">
    <meta property="article:tag" content="Flutter">
    <meta property="article:tag" content="Bahasa Pemrograman">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Membuat aplikasi konverter youtube ke Mp3 mutiplatform">
<meta name="twitter:description" content="Sering sekali saya menemukan lagu yang menurut pendapat saya bagus di Youtube, akan tetapi saya hanya ingin mendengarkan lagunya saja tidak dengan videonya.
Alih-alih ingin menghemat kuota internet dirumah (Indihome berkuota &#x1f602;), saya sering melakukan konvert youtube ke mp3 dengan aplikasi web ini Online Video Converter kalo saya sedang memakai komputer&hellip;
Bagaimana kalo di smartphone?
Beberapa kali saya mencoba donwload aplikasi dari Apps Store ada dua jenis aplikasi, yaitu aplikasi gratis tetapi banyak iklan atau yang tidak ada iklan tetapi berbayar, hehe&hellip; &#x1f605;">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://rifkyfuady.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Membuat aplikasi konverter youtube ke Mp3 mutiplatform",
      "item": "https://rifkyfuady.github.io/posts/konverter-youtube-mp3/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Membuat aplikasi konverter youtube ke Mp3 mutiplatform",
  "name": "Membuat aplikasi konverter youtube ke Mp3 mutiplatform",
  "description": "Sering sekali saya menemukan lagu yang menurut pendapat saya bagus di Youtube, akan tetapi saya hanya ingin mendengarkan lagunya saja tidak dengan videonya.\nAlih-alih ingin menghemat kuota internet dirumah (Indihome berkuota \u0026#x1f602;), saya sering melakukan konvert youtube ke mp3 dengan aplikasi web ini Online Video Converter kalo saya sedang memakai komputer\u0026hellip;\nBagaimana kalo di smartphone?\nBeberapa kali saya mencoba donwload aplikasi dari Apps Store ada dua jenis aplikasi, yaitu aplikasi gratis tetapi banyak iklan atau yang tidak ada iklan tetapi berbayar, hehe\u0026hellip; \u0026#x1f605;\n",
  "keywords": [
    "Flutter", "Bahasa Pemrograman"
  ],
  "articleBody": "Sering sekali saya menemukan lagu yang menurut pendapat saya bagus di Youtube, akan tetapi saya hanya ingin mendengarkan lagunya saja tidak dengan videonya.\nAlih-alih ingin menghemat kuota internet dirumah (Indihome berkuota üòÇ), saya sering melakukan konvert youtube ke mp3 dengan aplikasi web ini Online Video Converter kalo saya sedang memakai komputer‚Ä¶\nBagaimana kalo di smartphone?\nBeberapa kali saya mencoba donwload aplikasi dari Apps Store ada dua jenis aplikasi, yaitu aplikasi gratis tetapi banyak iklan atau yang tidak ada iklan tetapi berbayar, hehe‚Ä¶ üòÖ\nGimana kalo coba bikin aplikasi konverter youtube ke Mp3 sendiri?\nYaps, bisa donk. Semenjak bercinta dengan Flutter bikin aplikasi mobile multiplatform (Android/IOS) jadi mudah, karena everything is a widget !!!\nKita akan menggunakan tools Youtube Donwloader untuk mengambil data dan konversi ke format MP3.\n# Persiapan\nSeperti biasa, jalankan editor Visual Studio Code, Selanjutnya buat projek baru dengan menekan kombinasi tombol CTRL+SHIFT+P dan tulis nama projeknya misalnya konverter-youtube-mp3. Untuk nama aplikasi harus huruf kecil semua dan tidak boleh mengandung spasi.\n# Tambahkan library\nUntuk menambahkan libarary yang akan kita gunakan, buka dan edit file pubspec.yaml seperti dibawah ini :\ndependencies: flutter: sdk: flutter cupertino_icons: ^0.1.2 http: ^0.12.0+2 toast: ^0.1.4 font_awesome_flutter: ^8.4.0 dio: ^2.1.0 path_provider: ^0.5.0+1 simple_permissions: ^0.1.9 # Bikin class model\nUntuk membuat object dari data Youtube Donwloader, bikin file baru beri nama youtube_model.dart, berikut ini snippet code-nya :\nclass Result { String id; String vid; String ajax; String ftype; String fquality; String audioName; String thumbnail; String duration; Result( {this.id, this.vid, this.ajax, this.ftype, this.fquality, this.audioName, this.thumbnail, this.duration}); Result.convertResult(String inpute) { id = RegExp(r\"\\\\n_id: '(.*?)',\").firstMatch(inpute).group(1); vid = RegExp(r\"v_id: '(.*?)',\").firstMatch(inpute).group(1); audioName = RegExp(r\"data_vtitle = \\\\\" \"(.*?)\\\\\" \";\").firstMatch(inpute).group(1).replaceAll(RegExp('\"\\\\\"|\"'), \"\").replaceAll(\"\\\\\", \"\"); thumbnail = RegExp(r').firstMatch(inpute).group(1).replaceAll(\"\\\\\", \"\"); duration = RegExp(r'\u003eDuration:.(.*?)\u003c').firstMatch(inpute).group(1); fquality = \"128\"; ajax = \"1\"; ftype = \".mp3\"; } } # Halaman Utama\nSelanjutnya untuk membuat halaman utama, buat file baru dengan nama youtube_konversi.dart, berikut ini snippet code-nya :\nimport 'dart:io'; import 'package:flutter/material.dart'; import 'package:http/http.dart' as http; import 'youtube_model.dart'; import 'package:font_awesome_flutter/font_awesome_flutter.dart'; import 'package:simple_permissions/simple_permissions.dart'; import 'package:toast/toast.dart'; import 'package:path_provider/path_provider.dart'; import 'package:dio/dio.dart'; class YoutubeKonversi extends StatefulWidget { @override _YoutubeKonversiState createState() =\u003e _YoutubeKonversiState(); } class _YoutubeKonversiState extends State { bool _allowWriteFile = false; TextEditingController videoURL = TextEditingController(); Result video; bool isFetching = false; bool fetchSuccess = false; bool isDownloading = false; bool downloadsuccess = false; String status = \"Unduh \"; String progress = \"\"; String lokasi = \"\"; Map headers = { \"X-Requested-With\": \"XMLHttpRequest\", }; Map body; void insertBody(String videoURL) { body = {\"url\": videoURL, \"ajax\": \"1\"}; } Future getInfo() async { insertBody(videoURL.text); setState(() { progress = \"\"; lokasi = \"\"; status = \"Unduh\"; downloadsuccess = false; isDownloading = false; isFetching = true; fetchSuccess = false; }); try { var response = await http.post(\"https://y2mate.com/id/analyze/ajax\", body: body, headers: headers); video = Result.convertResult(response.body); setState(() { isFetching = false; fetchSuccess = true; }); } catch (e) { print(e.toString()); setState(() { isFetching = true; fetchSuccess = false; }); } print(\"${video.thumbnail}\\n${video.audioName}\\n${video.vid}\\n${video.id}\"); } Future directURI( String _id, String vid, String ajax, String ftype, String quality) async { setState(() { isDownloading = true; status = \"Mengunduh...\"; }); try { var bodies = { \"type\": \"youtube\", \"_id\": _id, \"v_id\": vid, \"ajax\": ajax, \"ftype\": ftype.replaceAll(\".\", \"\"), \"fquality\": quality, }; var response = await http.post(\"https://y2mate.com/id/convert\", body: bodies); print(response.body); if (response.body.contains(\"Error:\")) { Toast.show( \"Tidak dapat mengunduh \\n Silakan coba lagi nanti ...\", context, duration: 4, textColor: Colors.white, gravity: Toast.BOTTOM, ); setState(() { isDownloading = false; }); return; } var directURL = RegExp(r') .firstMatch(response.body) .group(1) .replaceAll(\"\\\\\", \"\"); print(\"FIle Link :\" + directURL); downloadVideo(directURL, video.audioName, video.ftype); } catch (e) { setState(() { isDownloading = false; }); Toast.show( e.toString(), context, duration: 2, backgroundColor: Colors.red[300], textColor: Colors.black, gravity: Toast.BOTTOM, ); } } Future downloadVideo( String trackURL, String trackName, String format) async { if (!_allowWriteFile) { return null; } try { Dio dio = Dio(); Response response = await dio.get( trackURL, onReceiveProgress: (rec, total) { setState(() { progress = ((rec / total) * 100).toStringAsFixed(0) + \"%\"; }); }, options: Options( responseType: ResponseType.bytes, followRedirects: false, ), ); print(response.headers); //getExternalStorageDirectory getApplicationDocumentsDirectory var directory = await getExternalStorageDirectory(); var testdir = await Directory( '${directory.path}/io.github.rifkyfu32.konversi_youtube_mp3') .create(recursive: true); File file = File(\"${testdir.path}/\" + trackName + format); var raf = file.openSync(mode: FileMode.write); raf.writeFromSync(response.data); await raf.close(); setState(() { isDownloading = false; status = \"Selesai ^_^\"; downloadsuccess = true; lokasi = \"${testdir.path}/\" + trackName + format; }); print(\"${testdir.path}/\" + trackName + format); } catch (e) { setState(() { isDownloading = false; }); Toast.show( e.toString(), context, duration: 2, backgroundColor: Colors.red[300], textColor: Colors.black, gravity: Toast.BOTTOM, ); } } @override void initState() { super.initState(); _requestWritePermission(); } _requestWritePermission() async { PermissionStatus permissionStatus = await SimplePermissions.requestPermission( Permission.WriteExternalStorage); if (permissionStatus == PermissionStatus.authorized) { setState(() { _allowWriteFile = true; }); } } void nothingHere() { print(\"Tidak masalah\"); } @override Widget build(BuildContext context) { return Scaffold( appBar: AppBar( title: searchBar(), backgroundColor: Color.fromARGB(255, 30, 30, 30), centerTitle: true, ), body: bodyPart(), ); } Widget bodyPart() { return Container( color: Color.fromARGB(255, 30, 30, 30), child: Center( child: isFetching ? progressScreen() : fetchSuccess ? downloadScreen() : Column( mainAxisAlignment: MainAxisAlignment.center, children: [ Text( \"Konversi Youtube ke MP3\", style: TextStyle(color: Colors.white, fontSize: 18.0), ), SizedBox( height: 5.0, ), Text( \"Api dari y2mate.com\", style: TextStyle(color: Colors.white, fontSize: 16.0), ), SizedBox( height: 5.0, ), Icon( FontAwesomeIcons.youtube, color: Colors.redAccent, size: 45.0, ), ], ), ), ); } Widget progressScreen() { return Column( mainAxisAlignment: MainAxisAlignment.center, children: [ CircularProgressIndicator(), Padding( padding: const EdgeInsets.all(9.0), child: Text( 'Mengambil Data ...', style: TextStyle(color: Colors.white, fontSize: 18.0), ), ) ], ); } Widget downloadScreen() { return Column( mainAxisAlignment: MainAxisAlignment.center, children: [ Container( margin: EdgeInsets.symmetric(horizontal: 20.0), height: 300.0, decoration: BoxDecoration( borderRadius: BorderRadius.all( Radius.circular(19.0), ), ), child: Column( mainAxisAlignment: MainAxisAlignment.start, children: [ Expanded( child: Image( image: NetworkImage(video.thumbnail), ), ), SizedBox( height: 10.0, ), labelTitle(\"Judul : \", video.audioName), SizedBox( height: 8.0, ), labelTitle(\"Durasi : \", video.duration), SizedBox( height: 8.0, ), FlatButton( onPressed: () { !downloadsuccess ? directURI(video.id, video.vid, video.ajax, video.ftype, video.fquality) : nothingHere(); }, child: Container( height: 40.0, width: 200.0, decoration: BoxDecoration( color: downloadsuccess == true ? Colors.greenAccent : Colors.redAccent, borderRadius: BorderRadius.all( Radius.circular( 50.0, ), ), ), child: Padding( padding: const EdgeInsets.symmetric( vertical: 4.0, horizontal: 10.0), child: Row( mainAxisAlignment: MainAxisAlignment.center, children: [ Text( status, style: TextStyle( color: downloadsuccess == true ? Colors.black87 : Colors.white70, fontSize: 16.0), ), SizedBox( width: 12.0, ), Icon( isDownloading ? FontAwesomeIcons.spinner : downloadsuccess ? FontAwesomeIcons.check : FontAwesomeIcons.download, color: downloadsuccess == true ? Colors.black87 : Colors.white70, size: 20.0, ) ], ), ), ), ), Padding( padding: const EdgeInsets.only(top: 8.0, bottom: 10.0), child: Text( progress, style: TextStyle(color: Colors.white), ), ), downloadsuccess ? Card( elevation: 3.0, child: Padding( padding: const EdgeInsets.all(8.0), child: Column( mainAxisAlignment: MainAxisAlignment.center, crossAxisAlignment: CrossAxisAlignment.start, children: [ Text('Lokasi berkas : ', style: TextStyle(color: Colors.red)), Padding(padding: EdgeInsets.only(bottom: 5.0)), Text(lokasi, style: TextStyle(color: Colors.black87)) ], ), ), ) : SizedBox( height: 8.0, ) ], ), ), ], ); } Widget labelTitle(String title, String inpute) { return Row( mainAxisAlignment: MainAxisAlignment.center, children: [ Flexible( child: Text( title, style: TextStyle( color: Colors.redAccent, fontSize: 17.0, fontWeight: FontWeight.bold), ), ), Flexible( child: Text( inpute, style: TextStyle( color: Colors.white, fontSize: 16.0, fontWeight: FontWeight.normal), ), ), ], ); } Widget searchBar() { return Container( padding: EdgeInsets.symmetric(horizontal: 4.0), margin: EdgeInsets.symmetric( horizontal: 20.0, vertical: 8.0, ), decoration: BoxDecoration( color: Color.fromARGB(100, 255, 255, 255), borderRadius: BorderRadius.all( Radius.circular(10.0), ), ), child: Row( children: [ Flexible( flex: 1, child: TextFormField( controller: videoURL, style: TextStyle(color: Colors.white), decoration: InputDecoration( hintText: \"Video URL ...\", border: InputBorder.none, hintStyle: TextStyle(color: Colors.white70), icon: IconButton( onPressed: () { getInfo(); }, icon: Icon( Icons.search, color: Colors.white, ), ), ), keyboardType: TextInputType.url, autofocus: true, onFieldSubmitted: (String value) { getInfo(); }, ), ), ], ), ); } } # Sentuhan Terakhir\nSelanjutnya kita ubah main.dart, hapus semua kemudian ganti dengan snippet code berikut ini :\nimport 'package:flutter/material.dart'; import 'youtube_konversi.dart'; void main() =\u003e runApp(MyApp()); class MyApp extends StatelessWidget { @override Widget build(BuildContext context) { return MaterialApp( title: 'Konversi Youtube ke MP3', theme: ThemeData( primarySwatch: Colors.blue, accentColor: Colors.red[400] ), debugShowCheckedModeBanner: false, home: YoutubeKonversi(), ); } } Selesai. sekarang jalankan aplikasi Konverter Youtube to MP3 dengan menekan tombol F5, namun sebelumnya jangan lupa start Android Emulator atau iOS Simulator.\nHasilnya akan terlihat seperti berikut ini:\nHasil aplikasi bisa didownload disini\n",
  "wordCount" : "1313",
  "inLanguage": "id",
  "datePublished": "2019-04-08T20:29:06+07:00",
  "dateModified": "2019-04-08T20:29:06+07:00",
  "author":{
    "@type": "Person",
    "name": "Rifky Fuady"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://rifkyfuady.github.io/posts/konverter-youtube-mp3/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Rifky Fuady",
    "logo": {
      "@type": "ImageObject",
      "url": "https://rifkyfuady.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://rifkyfuady.github.io/" accesskey="h" title="Home (Alt + H)">üè†</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                    <li>
                        <a href="https://rifkyfuady.github.io/en/" title="English"
                            aria-label=":gb:">üá¨üáß</a>
                    </li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://rifkyfuady.github.io/portfolio" title="Portofolio">
                    <span>Portofolio</span>
                </a>
            </li>
            <li>
                <a href="https://rifkyfuady.github.io/posts" title="Artikel">
                    <span>Artikel</span>
                </a>
            </li>
            <li>
                <a href="https://rifkyfuady.github.io/tags" title="Tagar">
                    <span>Tagar</span>
                </a>
            </li>
            <li>
                <a href="https://rifkyfuady.github.io/search" title="Cari">
                    <span>Cari</span>
                </a>
            </li>
            <li>
                <a href="https://rifkyfuady.github.io/kebijakan-privasi" title="Kebijakan Privasi">
                    <span>Kebijakan Privasi</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://rifkyfuady.github.io/">Beranda</a>&nbsp;¬ª&nbsp;<a href="https://rifkyfuady.github.io/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Membuat aplikasi konverter youtube ke Mp3 mutiplatform
    </h1>
    <div class="post-meta"><span title='2019-04-08 20:29:06 +0700 WIB'>April 8, 2019</span>&nbsp;¬∑&nbsp;7 menit&nbsp;¬∑&nbsp;1313 kata&nbsp;¬∑&nbsp;Rifky Fuady

</div>
  </header> 
  <div class="post-content"><p>Sering sekali saya menemukan lagu yang menurut pendapat saya bagus di <a href="https://youtube.com">Youtube</a>, akan tetapi saya hanya ingin mendengarkan lagunya saja tidak dengan videonya.</p>
<p>Alih-alih ingin menghemat kuota internet dirumah (Indihome berkuota &#x1f602;), saya sering melakukan konvert youtube ke mp3 dengan aplikasi web ini <a href="https://www.onlinevideoconverter.com/mp3-converter">Online Video Converter</a> kalo saya sedang memakai komputer&hellip;</p>
<p><strong>Bagaimana kalo di smartphone?</strong></p>
<p>Beberapa kali saya mencoba donwload aplikasi dari Apps Store ada dua jenis aplikasi, yaitu aplikasi gratis tetapi banyak iklan atau yang tidak ada iklan tetapi berbayar, hehe&hellip; &#x1f605;</p>
<p><strong>Gimana kalo coba bikin aplikasi konverter youtube ke Mp3 sendiri?</strong></p>
<p>Yaps, bisa donk. Semenjak bercinta dengan <a href="https://flutter.dev/">Flutter</a> bikin aplikasi mobile multiplatform (Android/IOS) jadi mudah, karena <code>everything is a widget</code> !!!</p>
<p>Kita akan menggunakan tools <a href="https://y2mate.com/">Youtube Donwloader</a> untuk mengambil data dan konversi ke format MP3.</p>
<p><strong># Persiapan</strong></p>
<p>Seperti biasa, jalankan editor Visual Studio Code, Selanjutnya buat projek baru dengan menekan kombinasi tombol <code>CTRL+SHIFT+P</code> dan tulis nama projeknya misalnya <code>konverter-youtube-mp3</code>. Untuk nama aplikasi harus huruf kecil semua dan tidak boleh mengandung spasi.</p>
<p><strong># Tambahkan library</strong></p>
<p>Untuk menambahkan libarary yang akan kita gunakan, buka dan edit file <code>pubspec.yaml</code> seperti dibawah ini :</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">dependencies:
</span></span><span class="line"><span class="cl">  flutter:
</span></span><span class="line"><span class="cl">    sdk: flutter
</span></span><span class="line"><span class="cl">  cupertino_icons: ^0.1.2
</span></span><span class="line"><span class="cl">  http: ^0.12.0+2
</span></span><span class="line"><span class="cl">  toast: ^0.1.4
</span></span><span class="line"><span class="cl">  font_awesome_flutter: ^8.4.0
</span></span><span class="line"><span class="cl">  dio: ^2.1.0
</span></span><span class="line"><span class="cl">  path_provider: ^0.5.0+1
</span></span><span class="line"><span class="cl">  simple_permissions: ^0.1.9
</span></span></code></pre></div><p><strong># Bikin class model</strong></p>
<p>Untuk membuat object dari data <a href="https://y2mate.com/">Youtube Donwloader</a>, bikin file baru beri nama <code>youtube_model.dart</code>, berikut ini <code>snippet code</code>-nya :</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">class Result <span class="o">{</span>
</span></span><span class="line"><span class="cl">  String id<span class="p">;</span>
</span></span><span class="line"><span class="cl">  String vid<span class="p">;</span>
</span></span><span class="line"><span class="cl">  String ajax<span class="p">;</span>
</span></span><span class="line"><span class="cl">  String ftype<span class="p">;</span>
</span></span><span class="line"><span class="cl">  String fquality<span class="p">;</span>
</span></span><span class="line"><span class="cl">  String audioName<span class="p">;</span>
</span></span><span class="line"><span class="cl">  String thumbnail<span class="p">;</span>
</span></span><span class="line"><span class="cl">  String duration<span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  Result<span class="o">(</span>
</span></span><span class="line"><span class="cl">      <span class="o">{</span>this.id,
</span></span><span class="line"><span class="cl">      this.vid,
</span></span><span class="line"><span class="cl">      this.ajax,
</span></span><span class="line"><span class="cl">      this.ftype,
</span></span><span class="line"><span class="cl">      this.fquality,
</span></span><span class="line"><span class="cl">      this.audioName,
</span></span><span class="line"><span class="cl">      this.thumbnail,
</span></span><span class="line"><span class="cl">      this.duration<span class="o">})</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  Result.convertResult<span class="o">(</span>String inpute<span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="nv">id</span> <span class="o">=</span> RegExp<span class="o">(</span>r<span class="s2">&#34;\\n_id: &#39;(.*?)&#39;,&#34;</span><span class="o">)</span>.firstMatch<span class="o">(</span>inpute<span class="o">)</span>.group<span class="o">(</span>1<span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nv">vid</span> <span class="o">=</span> RegExp<span class="o">(</span>r<span class="s2">&#34;v_id: &#39;(.*?)&#39;,&#34;</span><span class="o">)</span>.firstMatch<span class="o">(</span>inpute<span class="o">)</span>.group<span class="o">(</span>1<span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nv">audioName</span> <span class="o">=</span> RegExp<span class="o">(</span>r<span class="s2">&#34;data_vtitle = \\&#34;</span> <span class="s2">&#34;(.*?)\\&#34;</span> <span class="s2">&#34;;&#34;</span><span class="o">)</span>.firstMatch<span class="o">(</span>inpute<span class="o">)</span>.group<span class="o">(</span>1<span class="o">)</span>.replaceAll<span class="o">(</span>RegExp<span class="o">(</span><span class="s1">&#39;&#34;\\&#34;|&#34;&#39;</span><span class="o">)</span>, <span class="s2">&#34;&#34;</span><span class="o">)</span>.replaceAll<span class="o">(</span><span class="s2">&#34;\\&#34;</span>, <span class="s2">&#34;&#34;</span><span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nv">thumbnail</span> <span class="o">=</span> RegExp<span class="o">(</span>r<span class="s1">&#39;&lt;img src=\\&#34;(.*?)\\&#34;&#39;</span><span class="o">)</span>.firstMatch<span class="o">(</span>inpute<span class="o">)</span>.group<span class="o">(</span>1<span class="o">)</span>.replaceAll<span class="o">(</span><span class="s2">&#34;\\&#34;</span>, <span class="s2">&#34;&#34;</span><span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nv">duration</span> <span class="o">=</span> RegExp<span class="o">(</span>r<span class="s1">&#39;&gt;Duration:.(.*?)&lt;&#39;</span><span class="o">)</span>.firstMatch<span class="o">(</span>inpute<span class="o">)</span>.group<span class="o">(</span>1<span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nv">fquality</span> <span class="o">=</span> <span class="s2">&#34;128&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nv">ajax</span> <span class="o">=</span> <span class="s2">&#34;1&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nv">ftype</span> <span class="o">=</span> <span class="s2">&#34;.mp3&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><p><strong># Halaman Utama</strong></p>
<p>Selanjutnya untuk membuat halaman utama, buat file baru dengan nama <code>youtube_konversi.dart</code>, berikut ini <code>snippet code</code>-nya :</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">import <span class="s1">&#39;dart:io&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">import <span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">import <span class="s1">&#39;package:http/http.dart&#39;</span> as http<span class="p">;</span>
</span></span><span class="line"><span class="cl">import <span class="s1">&#39;youtube_model.dart&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">import <span class="s1">&#39;package:font_awesome_flutter/font_awesome_flutter.dart&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">import <span class="s1">&#39;package:simple_permissions/simple_permissions.dart&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">import <span class="s1">&#39;package:toast/toast.dart&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">import <span class="s1">&#39;package:path_provider/path_provider.dart&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">import <span class="s1">&#39;package:dio/dio.dart&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">class YoutubeKonversi extends StatefulWidget <span class="o">{</span>
</span></span><span class="line"><span class="cl">  @override
</span></span><span class="line"><span class="cl">  _YoutubeKonversiState createState<span class="o">()</span> <span class="o">=</span>&gt; _YoutubeKonversiState<span class="o">()</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">class _YoutubeKonversiState extends State&lt;YoutubeKonversi&gt; <span class="o">{</span>
</span></span><span class="line"><span class="cl">  bool <span class="nv">_allowWriteFile</span> <span class="o">=</span> false<span class="p">;</span>
</span></span><span class="line"><span class="cl">  TextEditingController <span class="nv">videoURL</span> <span class="o">=</span> TextEditingController<span class="o">()</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  Result video<span class="p">;</span>
</span></span><span class="line"><span class="cl">  bool <span class="nv">isFetching</span> <span class="o">=</span> false<span class="p">;</span>
</span></span><span class="line"><span class="cl">  bool <span class="nv">fetchSuccess</span> <span class="o">=</span> false<span class="p">;</span>
</span></span><span class="line"><span class="cl">  bool <span class="nv">isDownloading</span> <span class="o">=</span> false<span class="p">;</span>
</span></span><span class="line"><span class="cl">  bool <span class="nv">downloadsuccess</span> <span class="o">=</span> false<span class="p">;</span>
</span></span><span class="line"><span class="cl">  String <span class="nv">status</span> <span class="o">=</span> <span class="s2">&#34;Unduh &#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  String <span class="nv">progress</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  String <span class="nv">lokasi</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  Map&lt;String, String&gt; <span class="nv">headers</span> <span class="o">=</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;X-Requested-With&#34;</span>: <span class="s2">&#34;XMLHttpRequest&#34;</span>,
</span></span><span class="line"><span class="cl">  <span class="o">}</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  Map&lt;String, String&gt; body<span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  void insertBody<span class="o">(</span>String videoURL<span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="nv">body</span> <span class="o">=</span> <span class="o">{</span><span class="s2">&#34;url&#34;</span>: videoURL, <span class="s2">&#34;ajax&#34;</span>: <span class="s2">&#34;1&#34;</span><span class="o">}</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  Future&lt;void&gt; getInfo<span class="o">()</span> async <span class="o">{</span>
</span></span><span class="line"><span class="cl">    insertBody<span class="o">(</span>videoURL.text<span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    setState<span class="o">(()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">      <span class="nv">progress</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="nv">lokasi</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="nv">status</span> <span class="o">=</span> <span class="s2">&#34;Unduh&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="nv">downloadsuccess</span> <span class="o">=</span> false<span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="nv">isDownloading</span> <span class="o">=</span> false<span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="nv">isFetching</span> <span class="o">=</span> true<span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="nv">fetchSuccess</span> <span class="o">=</span> false<span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">})</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    try <span class="o">{</span>
</span></span><span class="line"><span class="cl">      var <span class="nv">response</span> <span class="o">=</span> await http.post<span class="o">(</span><span class="s2">&#34;https://y2mate.com/id/analyze/ajax&#34;</span>,
</span></span><span class="line"><span class="cl">          body: body, headers: headers<span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="nv">video</span> <span class="o">=</span> Result.convertResult<span class="o">(</span>response.body<span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      setState<span class="o">(()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">isFetching</span> <span class="o">=</span> false<span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nv">fetchSuccess</span> <span class="o">=</span> true<span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="o">})</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span> catch <span class="o">(</span>e<span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">      print<span class="o">(</span>e.toString<span class="o">())</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      setState<span class="o">(()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">isFetching</span> <span class="o">=</span> true<span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nv">fetchSuccess</span> <span class="o">=</span> false<span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="o">})</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">    print<span class="o">(</span><span class="s2">&#34;</span><span class="si">${</span><span class="nv">video</span><span class="p">.thumbnail</span><span class="si">}</span><span class="s2">\n</span><span class="si">${</span><span class="nv">video</span><span class="p">.audioName</span><span class="si">}</span><span class="s2">\n</span><span class="si">${</span><span class="nv">video</span><span class="p">.vid</span><span class="si">}</span><span class="s2">\n</span><span class="si">${</span><span class="nv">video</span><span class="p">.id</span><span class="si">}</span><span class="s2">&#34;</span><span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  Future&lt;void&gt; directURI<span class="o">(</span>
</span></span><span class="line"><span class="cl">      String _id, String vid, String ajax, String ftype, String quality<span class="o">)</span> async <span class="o">{</span>
</span></span><span class="line"><span class="cl">    setState<span class="o">(()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">      <span class="nv">isDownloading</span> <span class="o">=</span> true<span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="nv">status</span> <span class="o">=</span> <span class="s2">&#34;Mengunduh...&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">})</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    try <span class="o">{</span>
</span></span><span class="line"><span class="cl">      var <span class="nv">bodies</span> <span class="o">=</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;type&#34;</span>: <span class="s2">&#34;youtube&#34;</span>,
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;_id&#34;</span>: _id,
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;v_id&#34;</span>: vid,
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ajax&#34;</span>: ajax,
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ftype&#34;</span>: ftype.replaceAll<span class="o">(</span><span class="s2">&#34;.&#34;</span>, <span class="s2">&#34;&#34;</span><span class="o">)</span>,
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;fquality&#34;</span>: quality,
</span></span><span class="line"><span class="cl">      <span class="o">}</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      var <span class="nv">response</span> <span class="o">=</span>
</span></span><span class="line"><span class="cl">          await http.post<span class="o">(</span><span class="s2">&#34;https://y2mate.com/id/convert&#34;</span>, body: bodies<span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      print<span class="o">(</span>response.body<span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="o">(</span>response.body.contains<span class="o">(</span><span class="s2">&#34;Error:&#34;</span><span class="o">))</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        Toast.show<span class="o">(</span>
</span></span><span class="line"><span class="cl">          <span class="s2">&#34;Tidak dapat mengunduh \n Silakan coba lagi nanti ...&#34;</span>,
</span></span><span class="line"><span class="cl">          context,
</span></span><span class="line"><span class="cl">          duration: 4,
</span></span><span class="line"><span class="cl">          textColor: Colors.white,
</span></span><span class="line"><span class="cl">          gravity: Toast.BOTTOM,
</span></span><span class="line"><span class="cl">        <span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        setState<span class="o">(()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">          <span class="nv">isDownloading</span> <span class="o">=</span> false<span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="o">})</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="o">}</span>
</span></span><span class="line"><span class="cl">      var <span class="nv">directURL</span> <span class="o">=</span> RegExp<span class="o">(</span>r<span class="s1">&#39;&lt;a href=\\&#34;(.*?)\\&#34;&#39;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">          .firstMatch<span class="o">(</span>response.body<span class="o">)</span>
</span></span><span class="line"><span class="cl">          .group<span class="o">(</span>1<span class="o">)</span>
</span></span><span class="line"><span class="cl">          .replaceAll<span class="o">(</span><span class="s2">&#34;\\&#34;</span>, <span class="s2">&#34;&#34;</span><span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      print<span class="o">(</span><span class="s2">&#34;FIle Link :&#34;</span> + directURL<span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      downloadVideo<span class="o">(</span>directURL, video.audioName, video.ftype<span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span> catch <span class="o">(</span>e<span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">      setState<span class="o">(()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">isDownloading</span> <span class="o">=</span> false<span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="o">})</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      Toast.show<span class="o">(</span>
</span></span><span class="line"><span class="cl">        e.toString<span class="o">()</span>,
</span></span><span class="line"><span class="cl">        context,
</span></span><span class="line"><span class="cl">        duration: 2,
</span></span><span class="line"><span class="cl">        backgroundColor: Colors.red<span class="o">[</span>300<span class="o">]</span>,
</span></span><span class="line"><span class="cl">        textColor: Colors.black,
</span></span><span class="line"><span class="cl">        gravity: Toast.BOTTOM,
</span></span><span class="line"><span class="cl">      <span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  Future&lt;void&gt; downloadVideo<span class="o">(</span>
</span></span><span class="line"><span class="cl">      String trackURL, String trackName, String format<span class="o">)</span> async <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="o">(</span>!_allowWriteFile<span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> null<span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">    try <span class="o">{</span>
</span></span><span class="line"><span class="cl">      Dio <span class="nv">dio</span> <span class="o">=</span> Dio<span class="o">()</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      Response <span class="nv">response</span> <span class="o">=</span> await dio.get<span class="o">(</span>
</span></span><span class="line"><span class="cl">        trackURL,
</span></span><span class="line"><span class="cl">        onReceiveProgress: <span class="o">(</span>rec, total<span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">          setState<span class="o">(()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="nv">progress</span> <span class="o">=</span> <span class="o">((</span>rec / total<span class="o">)</span> * 100<span class="o">)</span>.toStringAsFixed<span class="o">(</span>0<span class="o">)</span> + <span class="s2">&#34;%&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="o">})</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>,
</span></span><span class="line"><span class="cl">        options: Options<span class="o">(</span>
</span></span><span class="line"><span class="cl">          responseType: ResponseType.bytes,
</span></span><span class="line"><span class="cl">          followRedirects: false,
</span></span><span class="line"><span class="cl">        <span class="o">)</span>,
</span></span><span class="line"><span class="cl">      <span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      print<span class="o">(</span>response.headers<span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      //getExternalStorageDirectory getApplicationDocumentsDirectory
</span></span><span class="line"><span class="cl">      var <span class="nv">directory</span> <span class="o">=</span> await getExternalStorageDirectory<span class="o">()</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      var <span class="nv">testdir</span> <span class="o">=</span> await Directory<span class="o">(</span>
</span></span><span class="line"><span class="cl">              <span class="s1">&#39;${directory.path}/io.github.rifkyfu32.konversi_youtube_mp3&#39;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">          .create<span class="o">(</span>recursive: <span class="nb">true</span><span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      File <span class="nv">file</span> <span class="o">=</span> File<span class="o">(</span><span class="s2">&#34;</span><span class="si">${</span><span class="nv">testdir</span><span class="p">.path</span><span class="si">}</span><span class="s2">/&#34;</span> + trackName + format<span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      var <span class="nv">raf</span> <span class="o">=</span> file.openSync<span class="o">(</span>mode: FileMode.write<span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      raf.writeFromSync<span class="o">(</span>response.data<span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      await raf.close<span class="o">()</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      setState<span class="o">(()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">isDownloading</span> <span class="o">=</span> false<span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nv">status</span> <span class="o">=</span> <span class="s2">&#34;Selesai ^_^&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nv">downloadsuccess</span> <span class="o">=</span> true<span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nv">lokasi</span> <span class="o">=</span> <span class="s2">&#34;</span><span class="si">${</span><span class="nv">testdir</span><span class="p">.path</span><span class="si">}</span><span class="s2">/&#34;</span> + trackName + format<span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="o">})</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      print<span class="o">(</span><span class="s2">&#34;</span><span class="si">${</span><span class="nv">testdir</span><span class="p">.path</span><span class="si">}</span><span class="s2">/&#34;</span> + trackName + format<span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span> catch <span class="o">(</span>e<span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">      setState<span class="o">(()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">isDownloading</span> <span class="o">=</span> false<span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="o">})</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      Toast.show<span class="o">(</span>
</span></span><span class="line"><span class="cl">        e.toString<span class="o">()</span>,
</span></span><span class="line"><span class="cl">        context,
</span></span><span class="line"><span class="cl">        duration: 2,
</span></span><span class="line"><span class="cl">        backgroundColor: Colors.red<span class="o">[</span>300<span class="o">]</span>,
</span></span><span class="line"><span class="cl">        textColor: Colors.black,
</span></span><span class="line"><span class="cl">        gravity: Toast.BOTTOM,
</span></span><span class="line"><span class="cl">      <span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  @override
</span></span><span class="line"><span class="cl">  void initState<span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    super.initState<span class="o">()</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    _requestWritePermission<span class="o">()</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  _requestWritePermission<span class="o">()</span> async <span class="o">{</span>
</span></span><span class="line"><span class="cl">    PermissionStatus <span class="nv">permissionStatus</span> <span class="o">=</span>
</span></span><span class="line"><span class="cl">        await SimplePermissions.requestPermission<span class="o">(</span>
</span></span><span class="line"><span class="cl">            Permission.WriteExternalStorage<span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="o">(</span><span class="nv">permissionStatus</span> <span class="o">==</span> PermissionStatus.authorized<span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">      setState<span class="o">(()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">_allowWriteFile</span> <span class="o">=</span> true<span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="o">})</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  void nothingHere<span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    print<span class="o">(</span><span class="s2">&#34;Tidak masalah&#34;</span><span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  @override
</span></span><span class="line"><span class="cl">  Widget build<span class="o">(</span>BuildContext context<span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> Scaffold<span class="o">(</span>
</span></span><span class="line"><span class="cl">      appBar: AppBar<span class="o">(</span>
</span></span><span class="line"><span class="cl">        title: searchBar<span class="o">()</span>,
</span></span><span class="line"><span class="cl">        backgroundColor: Color.fromARGB<span class="o">(</span>255, 30, 30, 30<span class="o">)</span>,
</span></span><span class="line"><span class="cl">        centerTitle: true,
</span></span><span class="line"><span class="cl">      <span class="o">)</span>,
</span></span><span class="line"><span class="cl">      body: bodyPart<span class="o">()</span>,
</span></span><span class="line"><span class="cl">    <span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  Widget bodyPart<span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> Container<span class="o">(</span>
</span></span><span class="line"><span class="cl">      color: Color.fromARGB<span class="o">(</span>255, 30, 30, 30<span class="o">)</span>,
</span></span><span class="line"><span class="cl">      child: Center<span class="o">(</span>
</span></span><span class="line"><span class="cl">        child: isFetching
</span></span><span class="line"><span class="cl">            ? progressScreen<span class="o">()</span>
</span></span><span class="line"><span class="cl">            : fetchSuccess
</span></span><span class="line"><span class="cl">                ? downloadScreen<span class="o">()</span>
</span></span><span class="line"><span class="cl">                : Column<span class="o">(</span>
</span></span><span class="line"><span class="cl">                    mainAxisAlignment: MainAxisAlignment.center,
</span></span><span class="line"><span class="cl">                    children: &lt;Widget&gt;<span class="o">[</span>
</span></span><span class="line"><span class="cl">                      Text<span class="o">(</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;Konversi Youtube ke MP3&#34;</span>,
</span></span><span class="line"><span class="cl">                        style: TextStyle<span class="o">(</span>color: Colors.white, fontSize: 18.0<span class="o">)</span>,
</span></span><span class="line"><span class="cl">                      <span class="o">)</span>,
</span></span><span class="line"><span class="cl">                      SizedBox<span class="o">(</span>
</span></span><span class="line"><span class="cl">                        height: 5.0,
</span></span><span class="line"><span class="cl">                      <span class="o">)</span>,
</span></span><span class="line"><span class="cl">                      Text<span class="o">(</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;Api dari y2mate.com&#34;</span>,
</span></span><span class="line"><span class="cl">                        style: TextStyle<span class="o">(</span>color: Colors.white, fontSize: 16.0<span class="o">)</span>,
</span></span><span class="line"><span class="cl">                      <span class="o">)</span>,
</span></span><span class="line"><span class="cl">                      SizedBox<span class="o">(</span>
</span></span><span class="line"><span class="cl">                        height: 5.0,
</span></span><span class="line"><span class="cl">                      <span class="o">)</span>,
</span></span><span class="line"><span class="cl">                      Icon<span class="o">(</span>
</span></span><span class="line"><span class="cl">                        FontAwesomeIcons.youtube,
</span></span><span class="line"><span class="cl">                        color: Colors.redAccent,
</span></span><span class="line"><span class="cl">                        size: 45.0,
</span></span><span class="line"><span class="cl">                      <span class="o">)</span>,
</span></span><span class="line"><span class="cl">                    <span class="o">]</span>,
</span></span><span class="line"><span class="cl">                  <span class="o">)</span>,
</span></span><span class="line"><span class="cl">      <span class="o">)</span>,
</span></span><span class="line"><span class="cl">    <span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  Widget progressScreen<span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> Column<span class="o">(</span>
</span></span><span class="line"><span class="cl">      mainAxisAlignment: MainAxisAlignment.center,
</span></span><span class="line"><span class="cl">      children: &lt;Widget&gt;<span class="o">[</span>
</span></span><span class="line"><span class="cl">        CircularProgressIndicator<span class="o">()</span>,
</span></span><span class="line"><span class="cl">        Padding<span class="o">(</span>
</span></span><span class="line"><span class="cl">          padding: const EdgeInsets.all<span class="o">(</span>9.0<span class="o">)</span>,
</span></span><span class="line"><span class="cl">          child: Text<span class="o">(</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;Mengambil Data ...&#39;</span>,
</span></span><span class="line"><span class="cl">            style: TextStyle<span class="o">(</span>color: Colors.white, fontSize: 18.0<span class="o">)</span>,
</span></span><span class="line"><span class="cl">          <span class="o">)</span>,
</span></span><span class="line"><span class="cl">        <span class="o">)</span>
</span></span><span class="line"><span class="cl">      <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    <span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  Widget downloadScreen<span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> Column<span class="o">(</span>
</span></span><span class="line"><span class="cl">      mainAxisAlignment: MainAxisAlignment.center,
</span></span><span class="line"><span class="cl">      children: &lt;Widget&gt;<span class="o">[</span>
</span></span><span class="line"><span class="cl">        Container<span class="o">(</span>
</span></span><span class="line"><span class="cl">          margin: EdgeInsets.symmetric<span class="o">(</span>horizontal: 20.0<span class="o">)</span>,
</span></span><span class="line"><span class="cl">          height: 300.0,
</span></span><span class="line"><span class="cl">          decoration: BoxDecoration<span class="o">(</span>
</span></span><span class="line"><span class="cl">            borderRadius: BorderRadius.all<span class="o">(</span>
</span></span><span class="line"><span class="cl">              Radius.circular<span class="o">(</span>19.0<span class="o">)</span>,
</span></span><span class="line"><span class="cl">            <span class="o">)</span>,
</span></span><span class="line"><span class="cl">          <span class="o">)</span>,
</span></span><span class="line"><span class="cl">          child: Column<span class="o">(</span>
</span></span><span class="line"><span class="cl">            mainAxisAlignment: MainAxisAlignment.start,
</span></span><span class="line"><span class="cl">            children: &lt;Widget&gt;<span class="o">[</span>
</span></span><span class="line"><span class="cl">              Expanded<span class="o">(</span>
</span></span><span class="line"><span class="cl">                child: Image<span class="o">(</span>
</span></span><span class="line"><span class="cl">                  image: NetworkImage<span class="o">(</span>video.thumbnail<span class="o">)</span>,
</span></span><span class="line"><span class="cl">                <span class="o">)</span>,
</span></span><span class="line"><span class="cl">              <span class="o">)</span>,
</span></span><span class="line"><span class="cl">              SizedBox<span class="o">(</span>
</span></span><span class="line"><span class="cl">                height: 10.0,
</span></span><span class="line"><span class="cl">              <span class="o">)</span>,
</span></span><span class="line"><span class="cl">              labelTitle<span class="o">(</span><span class="s2">&#34;Judul : &#34;</span>, video.audioName<span class="o">)</span>,
</span></span><span class="line"><span class="cl">              SizedBox<span class="o">(</span>
</span></span><span class="line"><span class="cl">                height: 8.0,
</span></span><span class="line"><span class="cl">              <span class="o">)</span>,
</span></span><span class="line"><span class="cl">              labelTitle<span class="o">(</span><span class="s2">&#34;Durasi : &#34;</span>, video.duration<span class="o">)</span>,
</span></span><span class="line"><span class="cl">              SizedBox<span class="o">(</span>
</span></span><span class="line"><span class="cl">                height: 8.0,
</span></span><span class="line"><span class="cl">              <span class="o">)</span>,
</span></span><span class="line"><span class="cl">              FlatButton<span class="o">(</span>
</span></span><span class="line"><span class="cl">                onPressed: <span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">                  !downloadsuccess
</span></span><span class="line"><span class="cl">                      ? directURI<span class="o">(</span>video.id, video.vid, video.ajax, video.ftype,
</span></span><span class="line"><span class="cl">                          video.fquality<span class="o">)</span>
</span></span><span class="line"><span class="cl">                      : nothingHere<span class="o">()</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="o">}</span>,
</span></span><span class="line"><span class="cl">                child: Container<span class="o">(</span>
</span></span><span class="line"><span class="cl">                  height: 40.0,
</span></span><span class="line"><span class="cl">                  width: 200.0,
</span></span><span class="line"><span class="cl">                  decoration: BoxDecoration<span class="o">(</span>
</span></span><span class="line"><span class="cl">                    color: <span class="nv">downloadsuccess</span> <span class="o">==</span> <span class="nb">true</span>
</span></span><span class="line"><span class="cl">                        ? Colors.greenAccent
</span></span><span class="line"><span class="cl">                        : Colors.redAccent,
</span></span><span class="line"><span class="cl">                    borderRadius: BorderRadius.all<span class="o">(</span>
</span></span><span class="line"><span class="cl">                      Radius.circular<span class="o">(</span>
</span></span><span class="line"><span class="cl">                        50.0,
</span></span><span class="line"><span class="cl">                      <span class="o">)</span>,
</span></span><span class="line"><span class="cl">                    <span class="o">)</span>,
</span></span><span class="line"><span class="cl">                  <span class="o">)</span>,
</span></span><span class="line"><span class="cl">                  child: Padding<span class="o">(</span>
</span></span><span class="line"><span class="cl">                    padding: const EdgeInsets.symmetric<span class="o">(</span>
</span></span><span class="line"><span class="cl">                        vertical: 4.0, horizontal: 10.0<span class="o">)</span>,
</span></span><span class="line"><span class="cl">                    child: Row<span class="o">(</span>
</span></span><span class="line"><span class="cl">                      mainAxisAlignment: MainAxisAlignment.center,
</span></span><span class="line"><span class="cl">                      children: &lt;Widget&gt;<span class="o">[</span>
</span></span><span class="line"><span class="cl">                        Text<span class="o">(</span>
</span></span><span class="line"><span class="cl">                          status,
</span></span><span class="line"><span class="cl">                          style: TextStyle<span class="o">(</span>
</span></span><span class="line"><span class="cl">                              color: <span class="nv">downloadsuccess</span> <span class="o">==</span> <span class="nb">true</span>
</span></span><span class="line"><span class="cl">                                  ? Colors.black87
</span></span><span class="line"><span class="cl">                                  : Colors.white70,
</span></span><span class="line"><span class="cl">                              fontSize: 16.0<span class="o">)</span>,
</span></span><span class="line"><span class="cl">                        <span class="o">)</span>,
</span></span><span class="line"><span class="cl">                        SizedBox<span class="o">(</span>
</span></span><span class="line"><span class="cl">                          width: 12.0,
</span></span><span class="line"><span class="cl">                        <span class="o">)</span>,
</span></span><span class="line"><span class="cl">                        Icon<span class="o">(</span>
</span></span><span class="line"><span class="cl">                          isDownloading
</span></span><span class="line"><span class="cl">                              ? FontAwesomeIcons.spinner
</span></span><span class="line"><span class="cl">                              : downloadsuccess
</span></span><span class="line"><span class="cl">                                  ? FontAwesomeIcons.check
</span></span><span class="line"><span class="cl">                                  : FontAwesomeIcons.download,
</span></span><span class="line"><span class="cl">                          color: <span class="nv">downloadsuccess</span> <span class="o">==</span> <span class="nb">true</span>
</span></span><span class="line"><span class="cl">                              ? Colors.black87
</span></span><span class="line"><span class="cl">                              : Colors.white70,
</span></span><span class="line"><span class="cl">                          size: 20.0,
</span></span><span class="line"><span class="cl">                        <span class="o">)</span>
</span></span><span class="line"><span class="cl">                      <span class="o">]</span>,
</span></span><span class="line"><span class="cl">                    <span class="o">)</span>,
</span></span><span class="line"><span class="cl">                  <span class="o">)</span>,
</span></span><span class="line"><span class="cl">                <span class="o">)</span>,
</span></span><span class="line"><span class="cl">              <span class="o">)</span>,
</span></span><span class="line"><span class="cl">              Padding<span class="o">(</span>
</span></span><span class="line"><span class="cl">                padding: const EdgeInsets.only<span class="o">(</span>top: 8.0, bottom: 10.0<span class="o">)</span>,
</span></span><span class="line"><span class="cl">                child: Text<span class="o">(</span>
</span></span><span class="line"><span class="cl">                  progress,
</span></span><span class="line"><span class="cl">                  style: TextStyle<span class="o">(</span>color: Colors.white<span class="o">)</span>,
</span></span><span class="line"><span class="cl">                <span class="o">)</span>,
</span></span><span class="line"><span class="cl">              <span class="o">)</span>,
</span></span><span class="line"><span class="cl">              downloadsuccess
</span></span><span class="line"><span class="cl">                  ? Card<span class="o">(</span>
</span></span><span class="line"><span class="cl">                      elevation: 3.0,
</span></span><span class="line"><span class="cl">                      child: Padding<span class="o">(</span>
</span></span><span class="line"><span class="cl">                        padding: const EdgeInsets.all<span class="o">(</span>8.0<span class="o">)</span>,
</span></span><span class="line"><span class="cl">                        child: Column<span class="o">(</span>
</span></span><span class="line"><span class="cl">                          mainAxisAlignment: MainAxisAlignment.center,
</span></span><span class="line"><span class="cl">                          crossAxisAlignment: CrossAxisAlignment.start,
</span></span><span class="line"><span class="cl">                          children: &lt;Widget&gt;<span class="o">[</span>
</span></span><span class="line"><span class="cl">                            Text<span class="o">(</span><span class="s1">&#39;Lokasi berkas : &#39;</span>,
</span></span><span class="line"><span class="cl">                                style: TextStyle<span class="o">(</span>color: Colors.red<span class="o">))</span>,
</span></span><span class="line"><span class="cl">                            Padding<span class="o">(</span>padding: EdgeInsets.only<span class="o">(</span>bottom: 5.0<span class="o">))</span>,
</span></span><span class="line"><span class="cl">                            Text<span class="o">(</span>lokasi,
</span></span><span class="line"><span class="cl">                                style: TextStyle<span class="o">(</span>color: Colors.black87<span class="o">))</span>
</span></span><span class="line"><span class="cl">                          <span class="o">]</span>,
</span></span><span class="line"><span class="cl">                        <span class="o">)</span>,
</span></span><span class="line"><span class="cl">                      <span class="o">)</span>,
</span></span><span class="line"><span class="cl">                    <span class="o">)</span>
</span></span><span class="line"><span class="cl">                  : SizedBox<span class="o">(</span>
</span></span><span class="line"><span class="cl">                      height: 8.0,
</span></span><span class="line"><span class="cl">                    <span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="o">]</span>,
</span></span><span class="line"><span class="cl">          <span class="o">)</span>,
</span></span><span class="line"><span class="cl">        <span class="o">)</span>,
</span></span><span class="line"><span class="cl">      <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    <span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  Widget labelTitle<span class="o">(</span>String title, String inpute<span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> Row<span class="o">(</span>
</span></span><span class="line"><span class="cl">      mainAxisAlignment: MainAxisAlignment.center,
</span></span><span class="line"><span class="cl">      children: &lt;Widget&gt;<span class="o">[</span>
</span></span><span class="line"><span class="cl">        Flexible<span class="o">(</span>
</span></span><span class="line"><span class="cl">          child: Text<span class="o">(</span>
</span></span><span class="line"><span class="cl">            title,
</span></span><span class="line"><span class="cl">            style: TextStyle<span class="o">(</span>
</span></span><span class="line"><span class="cl">                color: Colors.redAccent,
</span></span><span class="line"><span class="cl">                fontSize: 17.0,
</span></span><span class="line"><span class="cl">                fontWeight: FontWeight.bold<span class="o">)</span>,
</span></span><span class="line"><span class="cl">          <span class="o">)</span>,
</span></span><span class="line"><span class="cl">        <span class="o">)</span>,
</span></span><span class="line"><span class="cl">        Flexible<span class="o">(</span>
</span></span><span class="line"><span class="cl">          child: Text<span class="o">(</span>
</span></span><span class="line"><span class="cl">            inpute,
</span></span><span class="line"><span class="cl">            style: TextStyle<span class="o">(</span>
</span></span><span class="line"><span class="cl">                color: Colors.white,
</span></span><span class="line"><span class="cl">                fontSize: 16.0,
</span></span><span class="line"><span class="cl">                fontWeight: FontWeight.normal<span class="o">)</span>,
</span></span><span class="line"><span class="cl">          <span class="o">)</span>,
</span></span><span class="line"><span class="cl">        <span class="o">)</span>,
</span></span><span class="line"><span class="cl">      <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    <span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  Widget searchBar<span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> Container<span class="o">(</span>
</span></span><span class="line"><span class="cl">      padding: EdgeInsets.symmetric<span class="o">(</span>horizontal: 4.0<span class="o">)</span>,
</span></span><span class="line"><span class="cl">      margin: EdgeInsets.symmetric<span class="o">(</span>
</span></span><span class="line"><span class="cl">        horizontal: 20.0,
</span></span><span class="line"><span class="cl">        vertical: 8.0,
</span></span><span class="line"><span class="cl">      <span class="o">)</span>,
</span></span><span class="line"><span class="cl">      decoration: BoxDecoration<span class="o">(</span>
</span></span><span class="line"><span class="cl">        color: Color.fromARGB<span class="o">(</span>100, 255, 255, 255<span class="o">)</span>,
</span></span><span class="line"><span class="cl">        borderRadius: BorderRadius.all<span class="o">(</span>
</span></span><span class="line"><span class="cl">          Radius.circular<span class="o">(</span>10.0<span class="o">)</span>,
</span></span><span class="line"><span class="cl">        <span class="o">)</span>,
</span></span><span class="line"><span class="cl">      <span class="o">)</span>,
</span></span><span class="line"><span class="cl">      child: Row<span class="o">(</span>
</span></span><span class="line"><span class="cl">        children: &lt;Widget&gt;<span class="o">[</span>
</span></span><span class="line"><span class="cl">          Flexible<span class="o">(</span>
</span></span><span class="line"><span class="cl">            flex: 1,
</span></span><span class="line"><span class="cl">            child: TextFormField<span class="o">(</span>
</span></span><span class="line"><span class="cl">              controller: videoURL,
</span></span><span class="line"><span class="cl">              style: TextStyle<span class="o">(</span>color: Colors.white<span class="o">)</span>,
</span></span><span class="line"><span class="cl">              decoration: InputDecoration<span class="o">(</span>
</span></span><span class="line"><span class="cl">                hintText: <span class="s2">&#34;Video URL ...&#34;</span>,
</span></span><span class="line"><span class="cl">                border: InputBorder.none,
</span></span><span class="line"><span class="cl">                hintStyle: TextStyle<span class="o">(</span>color: Colors.white70<span class="o">)</span>,
</span></span><span class="line"><span class="cl">                icon: IconButton<span class="o">(</span>
</span></span><span class="line"><span class="cl">                  onPressed: <span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">                    getInfo<span class="o">()</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                  <span class="o">}</span>,
</span></span><span class="line"><span class="cl">                  icon: Icon<span class="o">(</span>
</span></span><span class="line"><span class="cl">                    Icons.search,
</span></span><span class="line"><span class="cl">                    color: Colors.white,
</span></span><span class="line"><span class="cl">                  <span class="o">)</span>,
</span></span><span class="line"><span class="cl">                <span class="o">)</span>,
</span></span><span class="line"><span class="cl">              <span class="o">)</span>,
</span></span><span class="line"><span class="cl">              keyboardType: TextInputType.url,
</span></span><span class="line"><span class="cl">              autofocus: true,
</span></span><span class="line"><span class="cl">              onFieldSubmitted: <span class="o">(</span>String value<span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">                getInfo<span class="o">()</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">              <span class="o">}</span>,
</span></span><span class="line"><span class="cl">            <span class="o">)</span>,
</span></span><span class="line"><span class="cl">          <span class="o">)</span>,
</span></span><span class="line"><span class="cl">        <span class="o">]</span>,
</span></span><span class="line"><span class="cl">      <span class="o">)</span>,
</span></span><span class="line"><span class="cl">    <span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><p><strong># Sentuhan Terakhir</strong></p>
<p>Selanjutnya kita ubah main.dart, hapus semua kemudian ganti dengan <code>snippet code</code> berikut ini :</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">import <span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">import <span class="s1">&#39;youtube_konversi.dart&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">void main<span class="o">()</span> <span class="o">=</span>&gt; runApp<span class="o">(</span>MyApp<span class="o">())</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">class MyApp extends StatelessWidget <span class="o">{</span>
</span></span><span class="line"><span class="cl">  @override
</span></span><span class="line"><span class="cl">  Widget build<span class="o">(</span>BuildContext context<span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> MaterialApp<span class="o">(</span>
</span></span><span class="line"><span class="cl">      title: <span class="s1">&#39;Konversi Youtube ke MP3&#39;</span>,
</span></span><span class="line"><span class="cl">      theme: ThemeData<span class="o">(</span>
</span></span><span class="line"><span class="cl">        primarySwatch: Colors.blue,
</span></span><span class="line"><span class="cl">        accentColor: Colors.red<span class="o">[</span>400<span class="o">]</span>
</span></span><span class="line"><span class="cl">      <span class="o">)</span>,
</span></span><span class="line"><span class="cl">      debugShowCheckedModeBanner: false,
</span></span><span class="line"><span class="cl">      home: YoutubeKonversi<span class="o">()</span>,
</span></span><span class="line"><span class="cl">    <span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><p>Selesai. sekarang jalankan aplikasi <code>Konverter Youtube to MP3</code> dengan menekan tombol F5, namun sebelumnya jangan lupa start Android Emulator atau iOS Simulator.</p>
<p>Hasilnya akan terlihat seperti berikut ini:</p>
<p><img alt="Tampilan aplikasi konverter youtube ke Mp3 mutiplatform pertama" loading="lazy" src="/img/konverter-youtube-mp3/1.png">
<img alt="Tampilan aplikasi konverter youtube ke Mp3 mutiplatform kedua" loading="lazy" src="/img/konverter-youtube-mp3/2.png">
<img alt="Tampilan aplikasi konverter youtube ke Mp3 mutiplatform ketiga" loading="lazy" src="/img/konverter-youtube-mp3/3.png"></p>
<p>Hasil aplikasi bisa didownload <a href="https://drive.google.com/file/d/1I8xSeqOuoFdzYrQHYyFdgIWZt2im_DhQ/view" target="_blank">disini</a></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://rifkyfuady.github.io/tags/flutter/">Flutter</a></li>
      <li><a href="https://rifkyfuady.github.io/tags/bahasa-pemrograman/">Bahasa Pemrograman</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://rifkyfuady.github.io/posts/optimasi-ssd-ubuntu-lts/">
    <span class="title">¬´ Sebelumnya</span>
    <br>
    <span>Optimasi SSD &amp; Konfigurasi Web Server di Ubuntu 18.04</span>
  </a>
  <a class="next" href="https://rifkyfuady.github.io/posts/flutter-animasi-dragonball/">
    <span class="title">Selanjutnya ¬ª</span>
    <br>
    <span>Aplikasi Dragon Ball dengan Animasi di Flutter</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Membuat aplikasi konverter youtube ke Mp3 mutiplatform on x"
            href="https://x.com/intent/tweet/?text=Membuat%20aplikasi%20konverter%20youtube%20ke%20Mp3%20mutiplatform&amp;url=https%3a%2f%2frifkyfuady.github.io%2fposts%2fkonverter-youtube-mp3%2f&amp;hashtags=Flutter%2cBahasaPemrograman">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Membuat aplikasi konverter youtube ke Mp3 mutiplatform on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2frifkyfuady.github.io%2fposts%2fkonverter-youtube-mp3%2f&amp;title=Membuat%20aplikasi%20konverter%20youtube%20ke%20Mp3%20mutiplatform&amp;summary=Membuat%20aplikasi%20konverter%20youtube%20ke%20Mp3%20mutiplatform&amp;source=https%3a%2f%2frifkyfuady.github.io%2fposts%2fkonverter-youtube-mp3%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Membuat aplikasi konverter youtube ke Mp3 mutiplatform on facebook"
            href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2frifkyfuady.github.io%2fposts%2fkonverter-youtube-mp3%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Membuat aplikasi konverter youtube ke Mp3 mutiplatform on whatsapp"
            href="https://api.whatsapp.com/send?text=Membuat%20aplikasi%20konverter%20youtube%20ke%20Mp3%20mutiplatform%20-%20https%3a%2f%2frifkyfuady.github.io%2fposts%2fkonverter-youtube-mp3%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Membuat aplikasi konverter youtube ke Mp3 mutiplatform on telegram"
            href="https://telegram.me/share/url?text=Membuat%20aplikasi%20konverter%20youtube%20ke%20Mp3%20mutiplatform&amp;url=https%3a%2f%2frifkyfuady.github.io%2fposts%2fkonverter-youtube-mp3%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
</ul>
 <div id="disqus_thread"></div>
<script type="text/javascript">
  (function () {
    
    
    if (window.location.hostname == "localhost") return;

    var dsq = document.createElement("script");
    dsq.type = "text/javascript";
    dsq.async = true;
    var disqus_shortname = "rifkyfu32-github-io";
    dsq.src = "//" + disqus_shortname + ".disqus.com/embed.js";
    (
      document.getElementsByTagName("head")[0] ||
      document.getElementsByTagName("body")[0]
    ).appendChild(dsq);
  })();
</script>
<noscript
  >Please enable JavaScript to view the
  <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
<a href="http://disqus.com/" class="dsq-brlink"
  >comments powered by
  <span class="logo-disqus">Disqus</span>
</a>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://rifkyfuady.github.io/">Rifky Fuady</a></span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script type="text/javascript">
    (function () {
      
      
      if (window.location.hostname == "localhost") return;
      if (document.getElementById("userway")) return;
      const userway = document.createElement("script");
      userway.id = "userway";
      userway.type = "text/javascript";
      userway.async = true;
      const userway_account = "XAfzRB9irr";
      userway.src = "//cdn.userway.org/widget.js";
      userway.dataset.account = userway_account;
      (
        document.getElementsByTagName("head")[0] ||
        document.getElementsByTagName("body")[0]
      ).appendChild(userway);
    })();
</script></body>

</html>
