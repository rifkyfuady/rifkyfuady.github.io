<!DOCTYPE html>
<html lang="id" data-theme="light"><head>
    <title> Rifky Fuady | Mudah Bikin Cloud Storage (Dropbox/GDrive) Sendiri </title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="description" content="Rifky Fuady Programmer Web Developer Android Developer"> 
    <meta property="og:url" content="https://rifkyfuady.github.io/"> 
    <meta property="og:title" content="Decode Ideas, Discover Potential"> 
    <meta property="og:description" content="Rifky Fuady Programmer Web Developer Android Developer"> 
    <meta property="og:image" content="https://rifkyfuady.github.io/images/preview.png"> 
    <meta property="og:site_name" content="Rifky Fuady"> 
    <meta property="og:ttl" content="3600">
    <meta name="google-site-verification" content="A3bnoBvVWUhLgpEuuZPXcNk4ydzULsPXnikJ2IHB1Gk" /><meta name="generator" content="Hugo 0.72.0" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
    
    <link rel="stylesheet" href="https://rifkyfuady.github.io/css/style.min.67cd718c0a3c8009c771494d381fb7128246a454bd0518fed97cb65d257db948.css" integrity="sha256-Z81xjAo8gAnHcUlNOB&#43;3EoJGpFS9BRj&#43;2Xy2XSV9uUg=" crossorigin="anonymous" type="text/css">
    <link rel="stylesheet" href="https://rifkyfuady.github.io/css/custom.css" type="text/css">
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    
    <link rel="shortcut icon" href="https://rifkyfuady.github.io/favicons/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="180x180" href="https://rifkyfuady.github.io/favicons/apple-touch-icon.png">
    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://rifkyfuady.github.io/favicons/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://rifkyfuady.github.io/favicons/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://rifkyfuady.github.io/favicons/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://rifkyfuady.github.io/favicons/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://rifkyfuady.github.io/favicons/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://rifkyfuady.github.io/favicons/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://rifkyfuady.github.io/favicons/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://rifkyfuady.github.io/favicons/apple-touch-icon-152x152.png" />
    <link rel="icon" type="image/png" href="https://rifkyfuady.github.io/favicons/favicon-196x196.png" sizes="196x196" />
    <link rel="icon" type="image/png" href="https://rifkyfuady.github.io/favicons/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="https://rifkyfuady.github.io/favicons/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="https://rifkyfuady.github.io/favicons/favicon-16x16.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="https://rifkyfuady.github.io/favicons/favicon-128.png" sizes="128x128" />
    <meta name="application-name" content="Rifky&nbsp;Fuady"/>
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta name="msapplication-TileImage" content="https://rifkyfuady.github.io/favicons/mstile-144x144.png" />
    <meta name="msapplication-square70x70logo" content="https://rifkyfuady.github.io/favicons/mstile-70x70.png" />
    <meta name="msapplication-square150x150logo" content="https://rifkyfuady.github.io/favicons/mstile-150x150.png" />
    <meta name="msapplication-wide310x150logo" content="https://rifkyfuady.github.io/favicons/mstile-310x150.png" />
    <meta name="msapplication-square310x310logo" content="https://rifkyfuady.github.io/favicons/mstile-310x310.png" />
    <link rel="canonical" href="https://rifkyfuady.github.io/post/deploy-owncloud/">
    
    
    <script type="text/javascript" src="https://rifkyfuady.github.io/js/anatole-header.min.c275265a259296f3dd50e8236a77fcbcadb1dbb9597d3045c675dcc2c7c58a93.js" integrity="sha256-wnUmWiWSlvPdUOgjanf8vK2x27lZfTBFxnXcwsfFipM=" crossorigin="anonymous"></script>
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-168512473-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

</head><body><div class="sidebar animated fadeInDown">
    <div class="logo-title">
      <div class="title">
        <img src="https://rifkyfuady.github.io/images/profil.jpg" alt="profile picture">
        <h3 title=""><a href="/">Rifky Fuady</a></h3>
        <div class="description">
          <p>Good programmer with great habits</p>
        </div>
      </div>
    </div>
    <ul class="social-links">
        
        <li>
        <a href="https://github.com/rifkyfu32" rel="me" target="_blank" aria-label="GitHub">
          <i class="fa fa-2x fa-github" aria-hidden="true"></i>
        </a>          
        </li>

        
        <li>
        <a href="mailto:mi.rifky.fuady@gmail.com" rel="me" target="_blank" aria-label="e-mail">
          <i class="fa fa-2x fa-envelope" aria-hidden="true"></i>
        </a>          
        </li>

        
        <li>
        <a href="https://www.dicoding.com/users/57163" rel="me" target="_blank" aria-label="dicoding">
          <i class="fa fa-2x fa-glide-g" aria-hidden="true"></i>
        </a>          
        </li>

        
        <li>
        <a href="https://twitter.com/Fuu_ady" rel="me" target="_blank" aria-label="twitter">
          <i class="fa fa-2x fa-twitter" aria-hidden="true"></i>
        </a>          
        </li>

        
        <li>
        <a href="https://www.instagram.com/fuadyrifky" rel="me" target="_blank" aria-label="instagram">
          <i class="fa fa-2x fa-instagram" aria-hidden="true"></i>
        </a>          
        </li>

        
    </ul>
    <div class="footer">
        <div class="by_farbox">&copy; Rifky Fuady 2021 &ndash; <a href="/privacy-policy" class="text-secondary"> Privacy Policy</a></div>
      </div>
    </div>
</div><div class="main">
            <div class="page-top animated fadeInDown">
    <ul class="nav">
        
        
        
        <li><a  href="/" title="">Home</a></li>
        
        
        <li><a  href="/post/" title="">Posts</a></li>
        
        
        <li><a  href="/portofolio/" title="">Portofolio</a></li>
        
    </ul>
    <div class="themeswitcher">
        <a class="theme-switch" title="Switch Theme">
            <i class="fa fa-adjust fa-fw" aria-hidden="true"></i>
        </a>
    </div>
</div>

            <div class="autopagerize_page_element">
                <div class="content">
<div class="post animated fadeInDown">
    <div class="post-content">

      <div class="post-title">
        <h3>Mudah Bikin Cloud Storage (Dropbox/GDrive) Sendiri
        </h3>
        
        <div class="info">
          <i class="fa fa-sun-o"></i><span class="date">Tue, Dec 15, 2020</span>
          <i class="fa fa-clock-o"></i><span class="reading-time">3-minute read</span>
        </div>
        
        </div>

    <p>Berawal dari kisah sekelas Google yang tadi malam bisa <code>down</code> gara-gara kehabisan <code>storage</code>, saya tidak bisa mengakses file di Google Drive dan akhirnya beberapa pekerjaan terhambat. ðŸ˜” ðŸ¤•</p>
<p><img src="/images/deploy-owncloud/1.jpg" alt="gambar"></p>
<p>Belajar dari kejadian tersebut, akhirnya saya berusaha untuk mencari cara agar bisa membuat <code>cloud storage</code> sendiri, akhirnya menemukan satu perangkat lunak <code>CMS(Content Management System)</code> berbagi berkas gratis dan bebas seperti Google Drive/Dropbox bernama <a href="https://owncloud.com/">Owncloud</a>.</p>
<p>Dengan menggunakan <code>owncloud</code>, kita dapat mengatur layanan cloud storage mulai dari user, group user, limited akses, size quota user dan lain sebagainya. Owncloud bisa kita jadikan sebagai salah satu bahan testing untuk cloud computing dikarenakan owncloud termasuk salah satu kategori dari model layanan cloud computing.</p>
<p><strong>Deploy OwnCloud</strong></p>
<p>Seperti biasa, agar mudah kita akan menggunakan <a href="https://docs.docker.com/compose/">docker-compose</a>. Pada dasarnya <code>docker-compose</code> adalah sebuah tool untuk menjalankan aplikasi docker yang menggunakan banyak container, yang dibagi-bagi menjadi/sebagai sebuah services.</p>
<p>Oh iya, sebelumnya saya akan menjabarkan spec service/docker image apa saja yang akan kita gunakan, berikut daftarnya:</p>
<ul>
<li><a href="https://doc.traefik.io/traefik/">Traefik</a>, jika belum tahu apa itu traefik bisa baca tulisan <a href="/post/apa-itu-traefik/">Apa Itu Traefik</a>.</li>
<li><a href="https://hub.docker.com/_/owncloud">Owncloud</a></li>
<li><a href="https://hub.docker.com/r/webhippie/mariadb/">Mariadb</a> untuk database di disk</li>
<li><a href="https://hub.docker.com/r/webhippie/redis">Redis</a> untuk database memory</li>
</ul>
<p>Petama kita akan buat direktori terlebih dahulu:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">mkdir owncloud-docker
cd owncloud-docker
</code></pre></div><p>Lalu kita bikin file konfigurasi environment dan file docker-compose.yml, sesuaikan dengan preferensi teman-teman ya:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cat <span style="color:#e6db74">&lt;&lt; EOF &gt; .env
</span><span style="color:#e6db74">OWNCLOUD_VERSION=10.6
</span><span style="color:#e6db74">OWNCLOUD_DOMAIN=localhost:8080
</span><span style="color:#e6db74">ADMIN_USERNAME=admin
</span><span style="color:#e6db74">ADMIN_PASSWORD=admin
</span><span style="color:#e6db74">HTTP_PORT=8080
</span><span style="color:#e6db74">EOF</span>

touch docker-compose.yml
</code></pre></div><p>Kemudian docker-compose.yml edit dan sesuaikan. Saya ada sample dibawah dengan integrasi traefik:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">version: <span style="color:#e6db74">&#39;3.6&#39;</span>

volumes:
  files:
    driver: local
  mysql:
    driver: local
  backup:
    driver: local
  redis:
    driver: local

services:
  owncloud:
    image: owncloud/server:<span style="color:#e6db74">${</span>OWNCLOUD_VERSION<span style="color:#e6db74">}</span>
    restart: always
    ports:
      - <span style="color:#e6db74">${</span>HTTP_PORT<span style="color:#e6db74">}</span>:8080
    depends_on:
      - db
      - redis
    environment:
      - OWNCLOUD_DOMAIN<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>OWNCLOUD_DOMAIN<span style="color:#e6db74">}</span>
      - OWNCLOUD_DB_TYPE<span style="color:#f92672">=</span>mysql
      - OWNCLOUD_DB_NAME<span style="color:#f92672">=</span>owncloud
      - OWNCLOUD_DB_USERNAME<span style="color:#f92672">=</span>owncloud
      - OWNCLOUD_DB_PASSWORD<span style="color:#f92672">=</span>owncloud
      - OWNCLOUD_DB_HOST<span style="color:#f92672">=</span>db
      - OWNCLOUD_ADMIN_USERNAME<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>ADMIN_USERNAME<span style="color:#e6db74">}</span>
      - OWNCLOUD_ADMIN_PASSWORD<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>ADMIN_PASSWORD<span style="color:#e6db74">}</span>
      - OWNCLOUD_MYSQL_UTF8MB4<span style="color:#f92672">=</span>true
      - OWNCLOUD_REDIS_ENABLED<span style="color:#f92672">=</span>true
      - OWNCLOUD_REDIS_HOST<span style="color:#f92672">=</span>redis
    healthcheck:
      test: <span style="color:#f92672">[</span><span style="color:#e6db74">&#34;CMD&#34;</span>, <span style="color:#e6db74">&#34;/usr/bin/healthcheck&#34;</span><span style="color:#f92672">]</span>
      interval: 30s
      timeout: 10s
      retries: <span style="color:#ae81ff">5</span>
    volumes:
      - files:/mnt/data
    networks:
      - web
      - owncloud
    labels:
      - traefik.enable<span style="color:#f92672">=</span>true
      - traefik.frontend.rule<span style="color:#f92672">=</span>Host:own.example.com
      - traefik.port<span style="color:#f92672">=</span><span style="color:#ae81ff">8080</span>
      - traefik.docker.network<span style="color:#f92672">=</span>web

  db:
    image: webhippie/mariadb:latest
    restart: always
    environment:
      - MARIADB_ROOT_PASSWORD<span style="color:#f92672">=</span>owncloud
      - MARIADB_USERNAME<span style="color:#f92672">=</span>owncloud
      - MARIADB_PASSWORD<span style="color:#f92672">=</span>owncloud
      - MARIADB_DATABASE<span style="color:#f92672">=</span>owncloud
      - MARIADB_MAX_ALLOWED_PACKET<span style="color:#f92672">=</span>128M
      - MARIADB_INNODB_LOG_FILE_SIZE<span style="color:#f92672">=</span>64M
    healthcheck:
      test: <span style="color:#f92672">[</span><span style="color:#e6db74">&#34;CMD&#34;</span>, <span style="color:#e6db74">&#34;/usr/bin/healthcheck&#34;</span><span style="color:#f92672">]</span>
      interval: 30s
      timeout: 10s
      retries: <span style="color:#ae81ff">5</span>
    volumes:
      - mysql:/var/lib/mysql
      - backup:/var/lib/backup
    networks:
      - owncloud

  redis:
    image: webhippie/redis:latest
    restart: always
    environment:
      - REDIS_DATABASES<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
    healthcheck:
      test: <span style="color:#f92672">[</span><span style="color:#e6db74">&#34;CMD&#34;</span>, <span style="color:#e6db74">&#34;/usr/bin/healthcheck&#34;</span><span style="color:#f92672">]</span>
      interval: 30s
      timeout: 10s
      retries: <span style="color:#ae81ff">5</span>
    volumes:
      - redis:/var/lib/redis
    networks:
      - owncloud

networks:
  web:
    external: true
  owncloud:
</code></pre></div><p>Mari kita <code>deploy</code> dengan cara seperti biasa:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker-compose up -d
</code></pre></div><p>Coba kita akses ke own.example.com atau dengan IP Address server:8080 maka cloud storage kita sudah jadi!
<img src="/images/deploy-owncloud/2.png" alt="gambar"></p>
<p>Untuk login pertama, seperti yang didefinisikan di file .env tadi, yaitu admin admin jangan lupa untuk mengubahnya dan tambahkan user lainnya juga.</p>
<p>Oh iya, owncloud juga tersedia versi mobile, jika teman-teman menggunkan smarphone android ada di <a href="https://play.google.com/store/apps/details?id=com.owncloud.android&amp;hl=en&amp;gl=US">Playstore</a>.</p>
<p><img src="/images/deploy-owncloud/3.jpg" alt="gambar"></p>
<p>Lumayankan teman-teman? Saya bisa bebas upload file sesuka saya selama storage server belum penuh. ðŸ¥³</p>

    </div>
    <div class="post-footer">
      <div class="info">
        
        
    <span class="separator"><a class="tag" href="/tags/owncloud/">owncloud</a><a class="tag" href="/tags/traefik/">traefik</a><a class="tag" href="/tags/cloud-storage/">cloud storage</a><a class="tag" href="/tags/devops/">devops</a><a class="tag" href="/tags/docker/">docker</a></span>

      </div>
    </div>

    
    <div id="fb_comments_container">
      <h2>Comments</h2>
      <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "rifkyfuady-github-io" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>       
    
</div>


                </div>
            </div>
        </div>
</body>



<script type="text/javascript" src="https://rifkyfuady.github.io/js/jquery.min.86b1e8f819ee2d9099a783e50b49dff24282545fc40773861f9126b921532e4c.js" integrity="sha256-hrHo&#43;BnuLZCZp4PlC0nf8kKCVF/EB3OGH5EmuSFTLkw=" crossorigin="anonymous"></script>




<script type="text/javascript" src="https://rifkyfuady.github.io/js/bundle.min.0f9c74cb78f13d1f15f33daff4037c70354f98acfbb97a6f61708966675c3cae.js" integrity="sha256-D5x0y3jxPR8V8z2v9AN8cDVPmKz7uXpvYXCJZmdcPK4=" crossorigin="anonymous"></script>

<script type="text/javascript" src="https://rifkyfuady.github.io/js/medium-zoom.min.92f21c856129f84aeb719459b3e6ac621a3032fd7b180a18c04e1d12083f8aba.js" integrity="sha256-kvIchWEp&#43;ErrcZRZs&#43;asYhowMv17GAoYwE4dEgg/iro=" crossorigin="anonymous"></script>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-168512473-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
</html></body>

</html>
